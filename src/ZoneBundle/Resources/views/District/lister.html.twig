<data id="regionId" value="{{ region_id }}"/>
{% for district in districts %}
    <li value="{{ district.id }}">
        {{ district.districtLibelle }}
        {#<i style="padding-top: 5px" class="fa fa-chevron-right pull-right"></i>#}
    </li>
    {#  #}
{% endfor %}

<script>
        var currentDistrictId;

        $('#selectionDistrictObligatoire').hide();
        $('#ajouterCommune').hide();
        $('#selectionCommuneObligatoire').hide();

        $('#liste_district li').click(function(){
            $('#liste_district li').css('background-color', 'transparent').css('color', '#73879C');
            $(this).css('background-color', '#0D3349').css('color', 'white')

            currentDistrictId = $(this).val();

            $('#selectionDistrictObligatoire').show();
            $('#ajouterCommune').show();
            $('#liste_commune').show();

            // Lister les communes de ce district
            $.ajax({
                type: 'GET',
                url: Routing.generate('zone_lister_commune', {'district_id': currentDistrictId}),
                timeout: 3000,
                success: function(data) {
                    $('#liste_commune').children().remove();
                    $('#liste_commune').append(data);
                },
                error: function() {
                    console.log('La requête n\'a pas abouti');
                }
            });
        });

        $('#supprimerDistrict').click(function(){
            $('.modal-dialog').removeClass('modal-lg');
            $('.modal-dialog').addClass('modal-md');
            $.ajax({
                type: 'GET',
                url: Routing.generate('zone_supprimer_district', {'id': currentDistrictId}),
                timeout: 3000,
                success: function(data) {
                    $('.modal-body').children().remove();
                    $('.modal-body').append(data);
                    $('.modal-header h4').text("Supprimer un district");
                    $('#globModal').modal('show');
                },
                error: function() {
                    console.log('La requête n\'a pas abouti');
                }
            });
        });

        $('#modifierDistrict').click(function(){
            $('.modal-dialog').removeClass('modal-md');
            $('.modal-dialog').addClass('modal-lg');
            $.ajax({
                type: 'GET',
                url: Routing.generate('zone_modifier_district', {'id': currentDistrictId}),
                timeout: 3000,
                success: function(data) {
                    $('.modal-body').children().remove();
                    $('.modal-body').append(data);
                    $('.modal-header h4').text("Modifier un district");
                    $('#globModal').modal('show');
                },
                error: function() {
                    console.log('La requête n\'a pas abouti');
                }
            });
        });
</script>